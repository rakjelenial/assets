var TouchMenuLA=function(t){var e,n,a,s,o,i,l="",c=0,r=0,p=0,d=0,u=0,y=function(){e=this,n={width:280,zIndex:99999,disableSlide:!1,handleSize:20,disableMask:!1,maxMaskOpacity:.5},this.isVisible=!1,this.initialize()};return y.prototype.setDefaultsOptions=function(){for(var e in n)t[e]||(t[e]=n[e])},y.prototype.initElements=function(){t.target.style.zIndex=t.zIndex,t.target.style.width=t.width+"px",t.target.style.left=-t.width+"px",s=document.createElement("div"),s.className="tmla-handle",s.style.width=t.handleSize+"px",s.style.right=-t.handleSize+"px",t.target.appendChild(s),t.disableMask||(a=document.createElement("div"),a.className="tmla-mask",document.body.appendChild(a),i=new Hammer(a,null))},y.prototype.touchStartMenu=function(){o.on("panstart panmove",function(t){c=r+t.deltaX,e.changeMenuPos(),u=Math.abs(t.velocity)})},y.prototype.changeMenuPos=function(){c<=t.width&&(t.target.className=l+" tmla-menu",t.target.style.transform="translate3d("+c+"px, 0, 0)",t.target.style.WebkitTransform="translate3d("+c+"px, 0, 0)",t.target.style.MozTransform="translate3d("+c+"px, 0, 0)",t.disableMask||this.setMaskOpacity(c))},y.prototype.setMaskOpacity=function(e){var n=parseFloat(e/t.width*t.maxMaskOpacity);a.style.opacity=n,a.style.zIndex=0===n?-1:t.zIndex-1},y.prototype.touchEndMenu=function(){o.on("panend pancancel",function(t){r=t.deltaX,e.checkMenuState(t.deltaX)})},y.prototype.eventStartMask=function(){i.on("panstart panmove",function(n){n.center.x<=t.width&&e.isVisible&&(d++,1==d&&(p=n.deltaX),n.deltaX<0&&(c=n.deltaX-p+t.width,e.changeMenuPos(),u=Math.abs(n.velocity)))})},y.prototype.eventEndMask=function(){i.on("panend pancancel",function(t){e.checkMenuState(t.deltaX),d=0})},y.prototype.clickMaskClose=function(){a.addEventListener("click",function(){e.close()})},y.prototype.checkMenuState=function(t){u>=1?t>=0?e.open():e.close():c>=100?e.open():e.close()},y.prototype.open=function(){t.target.className=l+" tmla-menu opened",t.target.style.transform="translate3d("+t.width+"px, 0, 0)",t.target.style.WebkitTransform="translate3d("+t.width+"px, 0, 0)",t.target.style.MozTransform="translate3d("+t.width+"px, 0, 0)",r=t.width,this.isVisible=!0,e.showMask(),e.invoke(t.onOpen)},y.prototype.close=function(){t.target.className=l+" tmla-menu closed",r=0,e.isVisible=!1,e.hideMask(),e.invoke(t.onClose)},y.prototype.toggle=function(){e.isVisible?e.close():e.open()},y.prototype.showMask=function(){a.className="tmla-mask transition",a.style.opacity=t.maxMaskOpacity,a.style.zIndex=t.zIndex-1},y.prototype.hideMask=function(){a.className="tmla-mask transition",a.style.opacity=0,a.style.zIndex=-1},y.prototype.setMenuClassName=function(){l=t.target.className},y.prototype.invoke=function(t){t&&t.apply(e)},y.prototype.initialize=function(){t.target?(o=Hammer(t.target,null),e.setDefaultsOptions(),e.setMenuClassName(),e.initElements(),t.disableSlide||(e.touchStartMenu(),e.touchEndMenu(),e.eventStartMask(),e.eventEndMask()),t.disableMask||e.clickMaskClose()):console.error("TouchMenuLA: The option 'target' is required.")},new y},TouchMenuLARTL=function(t){var e,n,a,s,o,i,l="",c=0,r=0,p=0,d=0,u=0,y=function(){e=this,n={width:280,zIndex:99999,disableSlide:!1,handleSize:20,disableMask:!1,maxMaskOpacity:.5},this.isVisible=!1,this.initialize()};return y.prototype.setDefaultsOptions=function(){for(var e in n)t[e]||(t[e]=n[e])},y.prototype.initElements=function(){t.target.style.zIndex=t.zIndex,t.target.style.width=t.width+"px",t.target.style.right=-t.width+"px",s=document.createElement("div"),s.className="tmla-handle",s.style.width=t.handleSize+"px",s.style.right=-t.handleSize+"px",t.target.appendChild(s),t.disableMask||(a=document.createElement("div"),a.className="tmla-mask",document.body.appendChild(a),i=new Hammer(a,null))},y.prototype.touchStartMenu=function(){o.on("panstart panmove",function(t){c=r+t.deltaX,e.changeMenuPos(),u=Math.abs(t.velocity)})},y.prototype.changeMenuPos=function(){c<=t.width&&(t.target.className=l+" tmla-menu",t.target.style.transform="translate3d("+c+"px, 0, 0)",t.target.style.WebkitTransform="translate3d("+c+"px, 0, 0)",t.target.style.MozTransform="translate3d("+c+"px, 0, 0)",t.disableMask||this.setMaskOpacity(c))},y.prototype.setMaskOpacity=function(e){var n=parseFloat(e/t.width*t.maxMaskOpacity);a.style.opacity=n,a.style.zIndex=0===n?-1:t.zIndex-1},y.prototype.touchEndMenu=function(){o.on("panend pancancel",function(t){r=t.deltaX,e.checkMenuState(t.deltaX)})},y.prototype.eventStartMask=function(){i.on("panstart panmove",function(n){n.center.x<=t.width&&e.isVisible&&(d++,1==d&&(p=n.deltaX),n.deltaX<0&&(c=n.deltaX-p+t.width,e.changeMenuPos(),u=Math.abs(n.velocity)))})},y.prototype.eventEndMask=function(){i.on("panend pancancel",function(t){e.checkMenuState(t.deltaX),d=0})},y.prototype.clickMaskClose=function(){a.addEventListener("click",function(){e.close()})},y.prototype.checkMenuState=function(t){u>=1?t>=0?e.open():e.close():c>=100?e.open():e.close()},y.prototype.open=function(){t.target.className=l+" tmla-menu opened",t.target.style.transform="translate3d(-"+t.width+"px, 0, 0)",t.target.style.WebkitTransform="translate3d(-"+t.width+"px, 0, 0)",t.target.style.MozTransform="translate3d(-"+t.width+"px, 0, 0)",r=t.width,this.isVisible=!0,e.showMask(),e.invoke(t.onOpen)},y.prototype.close=function(){t.target.className=l+" tmla-menu closed",r=0,e.isVisible=!1,e.hideMask(),e.invoke(t.onClose)},y.prototype.toggle=function(){e.isVisible?e.close():e.open()},y.prototype.showMask=function(){a.className="tmla-mask transition",a.style.opacity=t.maxMaskOpacity,a.style.zIndex=t.zIndex-1},y.prototype.hideMask=function(){a.className="tmla-mask transition",a.style.opacity=0,a.style.zIndex=-1},y.prototype.setMenuClassName=function(){l=t.target.className},y.prototype.invoke=function(t){t&&t.apply(e)},y.prototype.initialize=function(){t.target?(o=Hammer(t.target,null),e.setDefaultsOptions(),e.setMenuClassName(),e.initElements(),t.disableSlide||(e.touchStartMenu(),e.touchEndMenu(),e.eventStartMask(),e.eventEndMask()),t.disableMask||e.clickMaskClose()):console.error("TouchMenuLA: The option 'target' is required.")},new y};